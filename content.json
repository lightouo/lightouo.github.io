{"meta":{"title":"White Worker","subtitle":"终极打工仔","description":"正在穷忙的Web工程师，擅长ASP.NET Core Web应用，也略懂 EFK stack 及 Kubernetes，正在学习 Go语言","author":"White Worker","url":"https://lightouo.github.io","root":"/"},"pages":[],"posts":[{"title":"HaoHigh","slug":"haohigh","date":"2019-08-10T05:18:04.000Z","updated":"2019-08-10T05:18:04.157Z","comments":true,"path":"2019/08/10/haohigh/","link":"","permalink":"https://lightouo.github.io/2019/08/10/haohigh/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"ASP.NET Core Serilog ElasticSearch Format","slug":"asp-net-core-serilog-elasticsearch-format","date":"2019-08-09T05:35:53.000Z","updated":"2019-08-10T04:40:58.905Z","comments":true,"path":"2019/08/09/asp-net-core-serilog-elasticsearch-format/","link":"","permalink":"https://lightouo.github.io/2019/08/09/asp-net-core-serilog-elasticsearch-format/","excerpt":"[ASP.NET Core 使用Serilog Format ElasticSearch]在使用微服务框架EFK收集ASP.NET Core日志的时候，默认Console.Log 打印出来的Log被ElasticSearch+Fluentd收集后颜色属性会产生乱码（低版本ES会直接报错)本篇将介绍 使用Serilog的ElasticSearch Format收集日志","text":"[ASP.NET Core 使用Serilog Format ElasticSearch]在使用微服务框架EFK收集ASP.NET Core日志的时候，默认Console.Log 打印出来的Log被ElasticSearch+Fluentd收集后颜色属性会产生乱码（低版本ES会直接报错)本篇将介绍 使用Serilog的ElasticSearch Format收集日志 1. 安装NuGet包dotnet add package Serilog.AspNetCoredotnet add package Serilog.Sinks.Consoledotnet add package Serilog.Sinks.ElasticSearch 2. StartupProgram.cs 1234567891011121314151617public static IWebHostBuilder CreateWebHostBuilder(string[] args) =&gt; WebHost.CreateDefaultBuilder(args) .UseSerilog((ctx, config) =&gt;&#123; config .MinimumLevel.Information() .Enrich.FromLogContext(); if (ctx.HostingEnvironment.IsDevelopment()) &#123; config.WriteTo.Console(); &#125; else &#123; config.WriteTo.Console(new ElasticsearchJsonFormatter()); &#125;&#125;) 参考writing-logs-to-elasticsearch-with-fluentd-using-serilog-in-asp-net-core","categories":[{"name":"ASP.NET Core","slug":"asp-net-core","permalink":"https://lightouo.github.io/categories/asp-net-core/"}],"tags":[{"name":"ASP.NET Core","slug":"asp-net-core","permalink":"https://lightouo.github.io/tags/asp-net-core/"},{"name":"C#","slug":"c","permalink":"https://lightouo.github.io/tags/c/"},{"name":"Log","slug":"log","permalink":"https://lightouo.github.io/tags/log/"},{"name":"ElasticSearch","slug":"elasticsearch","permalink":"https://lightouo.github.io/tags/elasticsearch/"},{"name":"Serilog","slug":"serilog","permalink":"https://lightouo.github.io/tags/serilog/"}],"author":"White Worker"}]}